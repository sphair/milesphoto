<html>
<head>
    <title></title>
    <link rel="stylesheet" type="text/css" href="capture.css"/>
    <style type="text/css">

    </style>
</head>
<body>

<script src="filters/sephia.js"></script>
<script src="filters/bw.js"></script>
<script src="filters/stretch.js"></script>
<script src="gum.js"></script>
<div id="imageCaptureView"></div>
<script>
    var imageCapturer = new ImageCapturer(
            {
                selector: '#imageCaptureView',
                filter: sephia
            });
    imageCapturer.start();


    var filters = [sephia, bw, function(id) {return stretch(bw(id));}, function(id){return id}];
    var idx = 0;
    document.onkeydown = checkKey;
    function checkKey(e) {

        e = e || window.event;

        if (e.keyCode == '37') {
            idx--;
            imageCapturer.filterMethod = filters[idx];
        }
        else if (e.keyCode == '39') {
            idx++;
            imageCapturer.filterMethod = filters[idx];
        }
    }
</script>

</body>
</html>